"use strict";(function(){function e(e){var t={};return e&&t.toString.call(e)==="[object Function]"}this.SimpleWorker=function(t){function u(){onmessage=function(e){if(e.data.type=="__args"){__func.apply(this,e.data.args)}}}var n,r,i,s,o;n=t["func"];if(!e(n)){throw"`func` needs to be a function."}r=t["args"];i=t["success"]||function(){};s=t["error"]||function(){};o=t["runOnce"]||false;var a;a="data:text/javascript;charset=US-ASCII,var __func = "+n.toString()+";";a+="("+u.toString()+").call(this);";var f=new Worker(a);f.onmessage=function(e){i(e.data);if(o)f.terminate()};f.onerror=function(e){s(e)};this.run=function(){f.postMessage({type:"__args",args:Array.prototype.slice.call(arguments)})};this.close=function(){f.terminate()};if(r!==undefined)this.run.apply(this,r)};this.SimpleWorker.run=function(e){e["runOnce"]=true;var t=new SimpleWorker(e)}}).call(this)