"use strict";!function(){function t(t){var n={};return t&&"[object Function]"===n.toString.call(t)}this.SimpleWorker=function(n){function r(){onmessage=function(t){"__args"==t.data.type&&__func.apply(this,t.data.args)}}var e,i,a,o,c;if(e=n.func,!t(e))throw"`func` needs to be a function.";i=n.args,a=n.success||function(){},o=n.error||function(){},c=n.runOnce||!1;var s;s="data:text/javascript;charset=US-ASCII,var __func = "+e.toString()+";",s+="("+r.toString()+").call(this);";var u=new Worker(s);u.onmessage=function(t){a(t.data),c&&u.terminate()},u.onerror=function(t){o(t)},this.run=function(){u.postMessage({type:"__args",args:Array.prototype.slice.call(arguments)})},this.close=function(){u.terminate()},void 0!==i&&this.run.apply(this,i)},this.SimpleWorker.run=function(t){t.runOnce=!0,new SimpleWorker(t)}}.call(this);